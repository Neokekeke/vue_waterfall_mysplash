webpackJsonp([1],{"1uuo":function(t,e){},"2XCy":function(t,e){},"8oVY":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM1IiBoZWlnaHQ9IjEzNSIgdmlld0JveD0iMCAwIDEzNSAxMzUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZmlsbD0iIzAwMCI+DQogICAgPHBhdGggZD0iTTY3LjQ0NyA1OGM1LjUyMyAwIDEwLTQuNDc3IDEwLTEwcy00LjQ3Ny0xMC0xMC0xMC0xMCA0LjQ3Ny0xMCAxMCA0LjQ3NyAxMCAxMCAxMHptOS40NDggOS40NDdjMCA1LjUyMyA0LjQ3NyAxMCAxMCAxMCA1LjUyMiAwIDEwLTQuNDc3IDEwLTEwcy00LjQ3OC0xMC0xMC0xMGMtNS41MjMgMC0xMCA0LjQ3Ny0xMCAxMHptLTkuNDQ4IDkuNDQ4Yy01LjUyMyAwLTEwIDQuNDc3LTEwIDEwIDAgNS41MjIgNC40NzcgMTAgMTAgMTBzMTAtNC40NzggMTAtMTBjMC01LjUyMy00LjQ3Ny0xMC0xMC0xMHpNNTggNjcuNDQ3YzAtNS41MjMtNC40NzctMTAtMTAtMTBzLTEwIDQuNDc3LTEwIDEwIDQuNDc3IDEwIDEwIDEwIDEwLTQuNDc3IDEwLTEweiI+DQogICAgICAgIDxhbmltYXRlVHJhbnNmb3JtDQogICAgICAgICAgICBhdHRyaWJ1dGVOYW1lPSJ0cmFuc2Zvcm0iDQogICAgICAgICAgICB0eXBlPSJyb3RhdGUiDQogICAgICAgICAgICBmcm9tPSIwIDY3IDY3Ig0KICAgICAgICAgICAgdG89Ii0zNjAgNjcgNjciDQogICAgICAgICAgICBkdXI9IjIuNXMiDQogICAgICAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIvPg0KICAgIDwvcGF0aD4NCiAgICA8cGF0aCBkPSJNMjguMTkgNDAuMzFjNi42MjcgMCAxMi01LjM3NCAxMi0xMiAwLTYuNjI4LTUuMzczLTEyLTEyLTEyLTYuNjI4IDAtMTIgNS4zNzItMTIgMTIgMCA2LjYyNiA1LjM3MiAxMiAxMiAxMnptMzAuNzItMTkuODI1YzQuNjg2IDQuNjg3IDEyLjI4NCA0LjY4NyAxNi45NyAwIDQuNjg2LTQuNjg2IDQuNjg2LTEyLjI4NCAwLTE2Ljk3LTQuNjg2LTQuNjg3LTEyLjI4NC00LjY4Ny0xNi45NyAwLTQuNjg3IDQuNjg2LTQuNjg3IDEyLjI4NCAwIDE2Ljk3em0zNS43NCA3LjcwNWMwIDYuNjI3IDUuMzcgMTIgMTIgMTIgNi42MjYgMCAxMi01LjM3MyAxMi0xMiAwLTYuNjI4LTUuMzc0LTEyLTEyLTEyLTYuNjMgMC0xMiA1LjM3Mi0xMiAxMnptMTkuODIyIDMwLjcyYy00LjY4NiA0LjY4Ni00LjY4NiAxMi4yODQgMCAxNi45NyA0LjY4NyA0LjY4NiAxMi4yODUgNC42ODYgMTYuOTcgMCA0LjY4Ny00LjY4NiA0LjY4Ny0xMi4yODQgMC0xNi45Ny00LjY4NS00LjY4Ny0xMi4yODMtNC42ODctMTYuOTcgMHptLTcuNzA0IDM1Ljc0Yy02LjYyNyAwLTEyIDUuMzctMTIgMTIgMCA2LjYyNiA1LjM3MyAxMiAxMiAxMnMxMi01LjM3NCAxMi0xMmMwLTYuNjMtNS4zNzMtMTItMTItMTJ6bS0zMC43MiAxOS44MjJjLTQuNjg2LTQuNjg2LTEyLjI4NC00LjY4Ni0xNi45NyAwLTQuNjg2IDQuNjg3LTQuNjg2IDEyLjI4NSAwIDE2Ljk3IDQuNjg2IDQuNjg3IDEyLjI4NCA0LjY4NyAxNi45NyAwIDQuNjg3LTQuNjg1IDQuNjg3LTEyLjI4MyAwLTE2Ljk3em0tMzUuNzQtNy43MDRjMC02LjYyNy01LjM3Mi0xMi0xMi0xMi02LjYyNiAwLTEyIDUuMzczLTEyIDEyczUuMzc0IDEyIDEyIDEyYzYuNjI4IDAgMTItNS4zNzMgMTItMTJ6bS0xOS44MjMtMzAuNzJjNC42ODctNC42ODYgNC42ODctMTIuMjg0IDAtMTYuOTctNC42ODYtNC42ODYtMTIuMjg0LTQuNjg2LTE2Ljk3IDAtNC42ODcgNC42ODYtNC42ODcgMTIuMjg0IDAgMTYuOTcgNC42ODYgNC42ODcgMTIuMjg0IDQuNjg3IDE2Ljk3IDB6Ij4NCiAgICAgICAgPGFuaW1hdGVUcmFuc2Zvcm0NCiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWU9InRyYW5zZm9ybSINCiAgICAgICAgICAgIHR5cGU9InJvdGF0ZSINCiAgICAgICAgICAgIGZyb209IjAgNjcgNjciDQogICAgICAgICAgICB0bz0iMzYwIDY3IDY3Ig0KICAgICAgICAgICAgZHVyPSI4cyINCiAgICAgICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIi8+DQogICAgPC9wYXRoPg0KPC9zdmc+DQo="},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),a="_wfMoveClass",r={props:{autoResize:{default:!0},interval:{default:200,validator:function(t){return t>=0}},align:{default:"left",validator:function(t){return~["left","right","center"].indexOf(t)}},line:{default:"v",validator:function(t){return~["v","h"].indexOf(t)}},lineGap:{required:!0,validator:function(t){return t>=0}},minLineGap:{validator:function(t){return t>=0}},maxLineGap:{validator:function(t){return t>=0}},singleMaxWidth:{validator:function(t){return t>=0}},fixedHeight:{default:!1},grow:{validator:function(t){return t instanceof Array}},watch:{default:function(){return{}}}},data:function(){return{style:{height:"",overflow:""},token:null}},methods:{reflowHandler:function(){clearTimeout(this.token),this.token=setTimeout(this.reflow,this.interval)},autoResizeHandler:function(t){!1!==t&&this.autoResize?I(window,"resize",this.reflowHandler,!1):v(window,"resize",this.reflowHandler,!1)},reflow:function(){var t=this;if(!this.$el)return;var e=this.$el.clientWidth,i=this.$children.map(function(t){return t.getMeta()});i.sort(function(t,e){return t.order-e.order}),this.virtualRects=i.map(function(){return{}}),u(this,i,this.virtualRects),setTimeout(function(){var n;n=t.$el,e!==n.clientWidth&&u(t,i,t.virtualRects),t.style.overflow="hidden",function(t,e){var i=e.filter(function(t){return t.moveClass}),n=g(i);!function(t,e){t.forEach(function(t,i){var n=e[i].node.style;for(var a in e[i].vm.rect=t,t)n[a]=t[a]+"px"})}(t,e);var r=g(i);i.forEach(function(t,e){var i,o,u,s,l,c,h;t.node[a]=t.moveClass,i=t.node,o=n[e],u=r[e],s=o.left-u.left,l=o.top-u.top,c=o.width/u.width,h=o.height/u.height,i.style.transform=i.style.WebkitTransform="translate("+s+"px,"+l+"px) scale("+c+","+h+")",i.style.transitionDuration="0s"}),document.body.clientWidth,i.forEach(function(t){var e;!function(t,e){if(!function(t,e){return new RegExp("\\b"+e+"\\b").test(M(t,"class"))}(t,e)){var i=M(t,"class").trim(),n=(i+" "+e).trim();M(t,"class",n)}}(t.node,t.moveClass),(e=t.node).style.transform=e.style.WebkitTransform="",e.style.transitionDuration=""})}(t.virtualRects,i),t.$emit("reflowed",t)},0)}},created:function(){var t=this;this.virtualRects=[],this.$on("reflow",function(){t.reflowHandler()}),this.$watch(function(){return t.align,t.line,t.lineGap,t.minLineGap,t.maxLineGap,t.singleMaxWidth,t.fixedHeight,t.watch},this.reflowHandler),this.$watch("grow",this.reflowHandler)},mounted:function(){this.$watch("autoResize",this.autoResizeHandler),I(this.$el,d(),o,!0),this.autoResizeHandler(this.autoResize)},beforeDestroy:function(){this.autoResizeHandler(!1),v(this.$el,d(),o,!0)}};function o(t){var e,i,n,r=t.target,o=r[a];o&&(e=r,i=new RegExp("\\s*\\b"+o+"\\b\\s*","g"),n=M(e,"class").replace(i," ").trim(),M(e,"class",n))}function u(t,e,i){var n=function(t){var e=t.maxLineGap?+t.maxLineGap:t.lineGap;return{align:~["left","right","center"].indexOf(t.align)?t.align:"left",line:~["v","h"].indexOf(t.line)?t.line:"v",lineGap:+t.lineGap,minLineGap:t.minLineGap?+t.minLineGap:t.lineGap,maxLineGap:e,singleMaxWidth:Math.max(t.singleMaxWidth||0,e),fixedHeight:!!t.fixedHeight,grow:t.grow&&t.grow.map(function(t){return+t})}}(t);("h"===t.line?l:s).calculate(t,n,e,i)}var s=function(){return{calculate:function(t,e,i,n){var a=t.$el.clientWidth,r=e.grow,o=r?function(t,e){var i=h(e);return{width:e.map(function(e){return t*e/i}),count:e.length,left:0}}(a,r):function(t,e){var i=t/e.lineGap,n=void 0;if(e.singleMaxWidth>=t)i=1,n=Math.max(t,e.minLineGap);else{var a=e.maxLineGap*~~i,r=e.minLineGap*~~(i+1),o=a>=t,u=r<=t;o&&u?(i=Math.round(i),n=t/i):o?n=t/(i=~~i):u?n=t/(i=~~(i+1)):(i=~~i,n=e.maxLineGap),1===i&&(n=Math.min(t,e.singleMaxWidth),n=Math.max(n,e.minLineGap))}return{width:f(n,i),count:i,left:c(t,n*i,e.align)}}(a,e),u=f(0,o.count);i.forEach(function(t,i){var a=u.reduce(function(t,e,i){return e<u[t]?i:t},0),r=o.width[a%o.count],s=n[i];s.top=u[a],s.left=o.left+(a?h(o.width.slice(0,a)):0),s.width=r,s.height=t.height*(e.fixedHeight?1:r/t.width),u[a]=u[a]+s.height}),t.style.height=Math.max.apply(Math,u)+"px"}}}(),l=function(){function t(t,i,n,a){var r=function(t,e,i,n){for(var a=0,r=n,o=0;r<i.length&&o<=t;r++)o+=i[r].width*e/i[r].height,a++;return a}(t,i.lineGap,n,a),o=Math.max(r-1,1),u=e(t,i,n,a,r),s=function(t,e,i){return t.cost===1/0&&e.cost===1/0?e.width<i?e:t:e.cost>=t.cost?t:e}(e(t,i,n,a,o),u,t),l=s.height,h=s.width;return 1===s.count&&(h=Math.min(i.singleMaxWidth,t),l=n[a].height*h/n[a].width),{left:c(t,h,i.align),count:s.count,height:l}}function e(t,e,i,n,a){for(var r=0,o=a-1;o>=0;o--){var u=i[n+o];r+=u.width*e.lineGap/u.height}var s=e.lineGap*t/r;if(s<=e.maxLineGap&&s>=e.minLineGap)return{cost:Math.abs(e.lineGap-s),count:a,width:t,height:s};var l=r>t?e.minLineGap:e.maxLineGap;return{cost:1/0,count:a,width:r*l/e.lineGap,height:l}}return{calculate:function(e,i,n,a){for(var r=e.$el.clientWidth,o=n.length,u=0,s=0;s<o;){for(var l,c,h=t(r,i,n,s),g=0,d=0;g<h.count;g++)l=n[s+g],(c=a[s+g]).top=u,c.left=h.left+d,c.width=l.width*h.height/l.height,c.height=h.height,d+=c.width;s+=h.count,u+=h.height}e.style.height=u+"px"}}}();function c(t,e,i){switch(i){case"right":return t-e;case"center":return(t-e)/2;default:return 0}}function h(t){return t.reduce(function(t,e){return t+e})}function g(t){return t.map(function(t){return t.vm.rect})}function d(){return void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend?"webkitTransitionEnd":"transitionend"}function f(t,e){for(var i="function"==typeof t?function(){return t()}:function(){return t},n=[],a=0;a<e;a++)n[a]=i();return n}function M(t,e,i){if(void 0===i)return t.getAttribute(e)||"";t.setAttribute(e,i)}function I(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.addEventListener(e,i,n)}function v(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,i,n)}var N={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vue-waterfall",style:this.style},[this._t("default")],2)},staticRenderFns:[]};var A={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.isShow,expression:"isShow"}],staticClass:"vue-waterfall-slot"},[this._t("default")],2)},staticRenderFns:[]};var w={name:"App",data:function(){return{baseUrl:"https://unsplash.com/napi/collections/featured",items:[],page:1,per_page:8,loading:!0,netFailed:!1,gaps:500}},mounted:function(){this.fetchData();var t=this;window.addEventListener("scroll",function(){var e=window.scrollY,i=window.innerHeight,n=document.body.scrollHeight;e+i>=n?(console.log(e,i,n),t.itemAdds()):console.log("err")})},components:{Waterfall:i("VU/8")(r,N,!1,function(t){i("merk")},null,null).exports,WaterfallSlot:i("VU/8")({data:function(){return{isShow:!1}},props:{width:{required:!0,validator:function(t){return t>=0}},height:{required:!0,validator:function(t){return t>=0}},order:{default:0},moveClass:{default:""}},methods:{notify:function(){this.$parent.$emit("reflow",this)},getMeta:function(){return{vm:this,node:this.$el,order:this.order,width:this.width,height:this.height,moveClass:this.moveClass}}},created:function(){var t=this;this.rect={top:0,left:0,width:0,height:0},this.$watch(function(){return t.width,t.height},this.notify)},mounted:function(){var t=this;this.$parent.$once("reflowed",function(){t.isShow=!0}),this.notify()},destroyed:function(){this.notify()}},A,!1,function(t){i("2XCy")},null,null).exports},methods:{fetchData:function(){var t=this;this.$ajax(this.baseUrl,{params:{page:this.page++,per_page:this.per_page}}).then(function(e){t.loading=!1;for(var i=e.data.length,n=0;n<i;n++)t.items.push(e.data[n].cover_photo);console.log(t.items)}).catch(function(e){t.netFailed=!0,t.loading=!1,console.log(e)})},itemAdds:function(){this.fetchData()}}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"loading"},[t.loading?n("img",{attrs:{src:i("8oVY"),alt:""}}):t._e(),t._v(" "),t.netFailed?n("span",[t._v("網絡出錯了，請檢查網絡")]):t._e()]),t._v(" "),t.loading?t._e():n("waterfall",{attrs:{"line-gap":t.gaps,watch:t.items}},t._l(t.items,function(t,e){return n("waterfall-slot",{key:t.id,staticStyle:{padding:"2px"},attrs:{width:t.width,height:t.height,order:e}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.urls.small,expression:"item.urls.small"}],staticStyle:{width:"100%",height:"100%",display:"block"},attrs:{alt:t.description}})])}))],1)},staticRenderFns:[]};var C=i("VU/8")(w,p,!1,function(t){i("Yqvu")},null,null).exports,m=i("/ocq"),L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hello"},[i("h1",[t._v(t._s(t.msg))]),t._v(" "),i("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),i("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),i("li",[i("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),i("br"),t._v(" "),i("li",[i("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var j=i("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},L,!1,function(t){i("1uuo")},"data-v-d8ec41bc",null).exports;n.a.use(m.a);var y=new m.a({routes:[{mode:history,path:"/",name:"HelloWorld",component:j}]}),D=i("mtWM"),x=i.n(D),T=i("cTzj"),E=i.n(T);n.a.use(E.a,{error:"../assets/logo.png",loading:"../assets/circles.png"}),n.a.config.productionTip=!1,n.a.prototype.$ajax=x.a,new n.a({el:"#app",router:y,components:{App:C},template:"<App/>"})},Yqvu:function(t,e){},merk:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.14f3ce2d0250a785f736.js.map